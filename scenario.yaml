
dataHandlers:
  - name: "vac_find"
    setState: "vacancyFindState"
  - name: "resume_manage"
  - name: "go_start"
    setState: "start"
  - name: "search_next_page"
    handlerFunction: "searchNextPageEvent"
    handlerFunctionAsync: true
  - name: "search_prev_page"
    handlerFunction: "searchPrevPageEvent"
    handlerFunctionAsync: true


states:
  - start:
    name: "start"
    text: "Hello! This is start state"
    buttons:
      -
        - {text: "Поиск вакансий", callback_data: "vac_find"}
        - {text: "Управление резюме", callback_data: "resume_manage"}
      -
        - {text: "Настройки", callback_data: "settings"}
        - {text: "Забыть меня", callback_data: "forgot"}
  - vacancyFindState:
    name: "vacancyFindState"
    text: "Введите запрос для поиска, либо выберите один из предыдущих запросов списка ниже."
    textExpected: true
    textHandlerFunction: vacancySearchTextHandler
    textHandlerFunctionAsync: true
    buttons:
      -
        - {text: "В начало", callback_data: "go_start"}
  - vacancySearchState:
    name: "vacancySearchState"
    text: "По вашему запросу найдено ${user.storage.search.found} вакансий. Показана страница ${user.storage.search.page + 1} из ${user.storage.search.pages}. \n \n  ${user.storage.search.vacancyStr}"
    textExpected: false
    onEnterHandlerFunction: prepareSearchInfo
    onEnterHandlerFunctionAsync: true
    newMessageOnEnter: true
    inlineButtonsGenerator : "vacancySearchButtonsGenerator"